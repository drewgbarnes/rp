from datetime import datetime
import random, math

from flask import Flask, request, render_template, redirect, url_for

app = Flask(__name__)


@app.route('/')
def show_all():
	total_games = {('mehabahaha',): {'wins': 6.0, 'durations': 2098.43, 'total': 14.0, 'winrate': 0.43}, ('mehabahaha', 'slawcat'): {'wins': 10.0, 'durations': 2248.91, 'total': 23.0, 'winrate': 0.43}, ('rockologist',): {'wins': 147.0, 'durations': 2049.89, 'total': 281.0, 'winrate': 0.52}, ('mehabahaha', 'rockologist'): {'wins': 86.0, 'durations': 2189.79, 'total': 160.0, 'winrate': 0.54}, ('mehabahaha', 'rockologist', 'slawcat'): {'wins': 21.0, 'durations': 2250.64, 'total': 36.0, 'winrate': 0.58}, ('rockologist', 'slawcat'): {'wins': 55.0, 'durations': 2093.8, 'total': 111.0, 'winrate': 0.5}, ('slawcat',): {'wins': 120.0, 'durations': 2068.98, 'total': 266.0, 'winrate': 0.45}}
	champs_played = {('mehabahaha',): {'mehabahaha': {'Gnar': 1, 'Sejuani': 6, 'Talon': 1, 'Thresh': 1, 'Skarner': 2, 'Jinx': 3}}, ('mehabahaha', 'slawcat'): {'mehabahaha': {'Gnar': 1, 'Brand': 2, 'Sejuani': 11, 'Talon': 4, 'Annie': 1, 'Skarner': 4}, 'slawcat': {'Tristana': 6, 'Sivir': 5, 'Garen': 1, 'Lux': 3, 'Trundle': 1, 'Ahri': 2, 'Quinn': 4, 'Leona': 1}}, ('rockologist',): {'rockologist': {'Graves': 6, 'Twisted Fate': 9, 'Udyr': 8, 'Caitlyn': 112, 'Kindred': 2, 'Corki': 1, 'Braum': 13, 'Thresh': 4, 'Lee Sin': 3, 'Yorick': 1, 'Ziggs': 1, 'Sivir': 12, 'Gangplank': 16, 'Twitch': 32, 'Blitzcrank': 1, 'Vi': 8, 'Dr. Mundo': 1, 'Shen': 30, 'Trundle': 1, 'Sion': 12, 'Vayne': 3, 'Ezreal': 1, 'Ekko': 1, 'Nasus': 3}}, ('mehabahaha', 'rockologist'): {'mehabahaha': {'Lucian': 3, 'Nocturne': 1, 'Gnar': 14, 'Talon': 38, 'Blitzcrank': 9, 'Brand': 19, 'Xin Zhao': 11, 'Cassiopeia': 1, 'Sejuani': 40, 'Pantheon': 5, 'Morgana': 2, 'Draven': 1, 'Skarner': 12, 'LeBlanc': 1, 'Jinx': 3}, 'rockologist': {'Tristana': 1, 'Vayne': 4, 'Graves': 23, 'Ziggs': 2, 'Sivir': 19, 'Shen': 3, 'Vi': 4, 'Braum': 4, 'Corki': 1, 'Gangplank': 1, 'Caitlyn': 29, 'Trundle': 2, 'Thresh': 4, 'Udyr': 1, 'Sion': 5, 'Skarner': 1, 'Leona': 2, 'Twitch': 50, 'Varus': 2, 'Nasus': 2}}, ('mehabahaha', 'rockologist', 'slawcat'): {'mehabahaha': {'Sejuani': 25, 'Talon': 9, 'Brand': 2}, 'slawcat': {'Tristana': 1, 'Annie': 1, 'Garen': 1, 'Lux': 10, 'Brand': 1, 'Lulu': 3, 'Gangplank': 3, 'Morgana': 5, 'Ahri': 4, 'Quinn': 2, 'Leona': 4, 'Katarina': 1}, 'rockologist': {'Sivir': 1, 'Corki': 2, 'Braum': 1, 'Gangplank': 8, 'Sion': 1, 'Twitch': 2, 'Ekko': 1, 'Caitlyn': 20}}, ('rockologist', 'slawcat'): {'slawcat': {'Tristana': 2, 'Quinn': 16, 'Sivir': 2, 'Lux': 32, 'Brand': 4, 'Jhin': 1, 'Lulu': 5, 'Gangplank': 1, 'Katarina': 3, 'Morgana': 12, 'Ahri': 18, 'Annie': 4, 'Garen': 1, 'Leona': 2, 'Alistar': 1, 'Malzahar': 1, 'Nasus': 6}, 'rockologist': {'Twitch': 5, 'Gragas': 1, 'Sivir': 10, 'Shen': 7, 'Kindred': 3, 'Corki': 6, 'Braum': 1, 'Caitlyn': 51, 'Twisted Fate': 2, 'Trundle': 1, 'Gangplank': 6, 'Sion': 14, 'Dr. Mundo': 1, 'Ekko': 1, 'Ezreal': 2}}, ('slawcat',): {'slawcat': {'Lux': 70, 'Morgana': 38, 'Warwick': 1, 'Cassiopeia': 1, 'Malzahar': 7, 'Tristana': 25, 'Sivir': 28, 'Ashe': 1, 'Jhin': 1, 'Gangplank': 2, 'Soraka': 1, 'Annie': 2, 'Poppy': 3, 'Leona': 15, 'Twitch': 2, 'Teemo': 4, 'Garen': 2, 'Blitzcrank': 2, 'Ahri': 16, 'Quinn': 21, 'Alistar': 1, 'Katarina': 11, 'Nasus': 12}}}
	averages = {('mehabahaha',): {'mehabahaha': {'wardsKilled': 1.21, 'kills': 7.0, 'deaths': 4.57, 'wardsPlaced': 12.21, 'largestMultiKill': 1.57, 'goldEarned': 12588.29, 'minionsKilled': 102.0, 'neutralMinionsKilled': 54.5, 'assists': 8.21, 'towerKills': 0.57, 'totalDamageTaken': 26626.86, 'killingSprees': 1.36, 'totalDamageDealtToChampions': 15384.0}}, ('mehabahaha', 'slawcat'): {'mehabahaha': {'wardsKilled': 1.91, 'kills': 8.35, 'deaths': 3.7, 'wardsPlaced': 14.04, 'largestMultiKill': 1.52, 'goldEarned': 13946.13, 'minionsKilled': 90.39, 'neutralMinionsKilled': 55.96, 'assists': 11.52, 'towerKills': 0.74, 'totalDamageTaken': 29338.87, 'killingSprees': 1.78, 'totalDamageDealtToChampions': 20624.3}, 'slawcat': {'wardsKilled': 1.74, 'kills': 6.61, 'deaths': 6.09, 'wardsPlaced': 14.96, 'largestMultiKill': 1.61, 'goldEarned': 13394.83, 'minionsKilled': 183.17, 'neutralMinionsKilled': 6.43, 'assists': 9.96, 'towerKills': 1.26, 'totalDamageTaken': 21689.26, 'killingSprees': 1.57, 'totalDamageDealtToChampions': 19677.7}}, ('rockologist',): {'rockologist': {'wardsKilled': 1.64, 'kills': 6.43, 'deaths': 5.96, 'wardsPlaced': 10.16, 'largestMultiKill': 1.47, 'goldEarned': 12664.38, 'minionsKilled': 159.78, 'neutralMinionsKilled': 20.79, 'assists': 9.61, 'towerKills': 1.44, 'totalDamageTaken': 24107.77, 'killingSprees': 1.52, 'totalDamageDealtToChampions': 20180.12}}, ('mehabahaha', 'rockologist'): {'mehabahaha': {'wardsKilled': 1.24, 'kills': 7.26, 'deaths': 4.66, 'wardsPlaced': 13.21, 'largestMultiKill': 1.53, 'goldEarned': 13147.52, 'minionsKilled': 121.73, 'neutralMinionsKilled': 37.49, 'assists': 10.33, 'towerKills': 0.91, 'totalDamageTaken': 27070.48, 'killingSprees': 1.63, 'totalDamageDealtToChampions': 21076.86}, 'rockologist': {'wardsKilled': 1.25, 'kills': 7.62, 'deaths': 7.04, 'wardsPlaced': 8.91, 'largestMultiKill': 1.61, 'goldEarned': 13534.59, 'minionsKilled': 182.31, 'neutralMinionsKilled': 19.77, 'assists': 9.18, 'towerKills': 1.74, 'totalDamageTaken': 25510.17, 'killingSprees': 1.81, 'totalDamageDealtToChampions': 21676.96}}, ('mehabahaha', 'rockologist', 'slawcat'): {'mehabahaha': {'wardsKilled': 3.58, 'kills': 6.39, 'deaths': 2.89, 'wardsPlaced': 15.69, 'largestMultiKill': 1.47, 'goldEarned': 13626.36, 'minionsKilled': 92.53, 'neutralMinionsKilled': 64.61, 'assists': 11.25, 'towerKills': 0.94, 'totalDamageTaken': 29053.19, 'killingSprees': 1.47, 'totalDamageDealtToChampions': 17503.67}, 'slawcat': {'wardsKilled': 3.42, 'kills': 4.94, 'deaths': 5.39, 'wardsPlaced': 18.61, 'largestMultiKill': 1.39, 'goldEarned': 12707.86, 'minionsKilled': 135.97, 'neutralMinionsKilled': 4.72, 'assists': 11.97, 'towerKills': 0.78, 'totalDamageTaken': 20178.83, 'killingSprees': 1.14, 'totalDamageDealtToChampions': 19343.31}, 'rockologist': {'wardsKilled': 2.56, 'kills': 7.75, 'deaths': 5.61, 'wardsPlaced': 13.92, 'largestMultiKill': 1.75, 'goldEarned': 15333.53, 'minionsKilled': 211.06, 'neutralMinionsKilled': 18.53, 'assists': 10.22, 'towerKills': 1.61, 'totalDamageTaken': 25033.28, 'killingSprees': 1.86, 'totalDamageDealtToChampions': 26739.61}}, ('rockologist', 'slawcat'): {'slawcat': {'wardsKilled': 1.81, 'kills': 6.45, 'deaths': 5.68, 'wardsPlaced': 14.82, 'largestMultiKill': 1.43, 'goldEarned': 12177.53, 'minionsKilled': 140.68, 'neutralMinionsKilled': 5.95, 'assists': 10.72, 'towerKills': 0.81, 'totalDamageTaken': 19081.66, 'killingSprees': 1.57, 'totalDamageDealtToChampions': 21311.47}, 'rockologist': {'wardsKilled': 2.34, 'kills': 8.21, 'deaths': 6.15, 'wardsPlaced': 12.61, 'largestMultiKill': 1.6, 'goldEarned': 14273.15, 'minionsKilled': 172.77, 'neutralMinionsKilled': 28.08, 'assists': 10.68, 'towerKills': 1.57, 'totalDamageTaken': 27176.44, 'killingSprees': 1.89, 'totalDamageDealtToChampions': 25312.69}}, ('slawcat',): {'slawcat': {'wardsKilled': 1.29, 'kills': 6.33, 'deaths': 6.39, 'wardsPlaced': 13.44, 'largestMultiKill': 1.35, 'goldEarned': 11562.8, 'minionsKilled': 130.71, 'neutralMinionsKilled': 4.43, 'assists': 9.85, 'towerKills': 0.64, 'totalDamageTaken': 19836.96, 'killingSprees': 1.49, 'totalDamageDealtToChampions': 20665.46}}}

	return render_template('list.html', total_games=total_games, champs_played = champs_played, averages=averages)

@app.route('/search')
def show_search():
	query = request.args.get('query', '').split()
   
	return render_template('list.html')

if __name__ == '__main__':
	app.debug = True
	app.run()
